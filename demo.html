<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <title>DC Metro Ridership Graph</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .node circle {
            stroke: #fff;
            stroke-width: 1.5px;
        }
        .node text {
            font-size: 12px;
            font-family: "Roboto", serif;
            font-weight: 400;
            font-style: normal;
        }
        .link {
            stroke-opacity: 0.6;
        }

        #info {
            font-family: "Roboto", serif;
            font-weight: 400;
            font-style: normal;
            border-radius: 9px;
        }
    </style>
</head>
<body>
    <div id="info" style="position: absolute; top: 20px; left: 20px; background: white; padding: 10px; border: 1px solid black; display: none;">
        <p id="station-info"></p>
    </div>
    
    
    <div style="margin: 20px;">
        <label for="year-slider">Select Year:</label>
        <input id="year-slider" type="range" min="2007" max="2017" step="1" value="2001" />
        <span id="current-year">2010</span>
        </div>

    <script>
        // Example data
        const stations = [
            //red line
            { id: "Shady Grove", x: 271.5, y: 270.2, line: "Red", ridership: { 2007: 14439, 2008: 14390, 2009: 14107, 2010: 13945, 2011: 13856, 2012: 13870, 2013: 13444, 2014: 13308, 2015: 12609, 2016: 11696, 2017: 11355 } },
            { id: "Rockville", x: 298.5 , y: 297.2, line: "Red", ridership: { 2007: 4572, 2008:	4736, 2009: 4880, 2010: 4927, 2011:4812, 2012:4834, 2013:4900, 2014:4769, 2015:4424, 2016:4087, 2017:3928	} },
            { id: "TwinBrook", x: 325.7, y: 324.4, line: "Red", ridership: {2007: 4805, 2008: 4943, 2009: 4628, 2010: 4587, 2011: 4773, 2012: 4632, 2013: 4569, 2014: 4470, 2015: 4443, 2016: 4126, 2017: 4101}},
            { id: "North Bethesda", x: 352.7, y: 351.4, line: "Red", ridership: {2007: 4010, 2008: 4097, 2009: 4096, 2010: 4210, 2011: 4266, 2012: 4151, 2013: 3951, 2014: 3889, 2015: 3855, 2016: 3456, 2017: 3417}},
            { id: "Grosvenor-Strathmore", x: 379.5, y: 378.3, line: "Red", ridership: {2007: 5642, 2008: 5817, 2009: 5948, 2010: 5843, 2011: 5876, 2012: 5862, 2013: 5857, 2014: 5795, 2015: 5557, 2016: 5181, 2017: 5215}},
            { id: "Medical Center", x: 406.3, y: 405, line: "Red", ridership: {2007: 5256, 2008: 5346, 2009: 5627, 2010: 5574, 2011: 5866, 2012: 6010, 2013: 6221, 2014: 5988, 2015: 5663, 2016: 5468, 2017: 5300}},
            { id: "Bethesda", x: 433.5, y: 432.3, line: "Red", ridership: {2007: 10738, 2008: 10968, 2009: 10730, 2010: 10605, 2011: 10765, 2012: 10888, 2013: 10608, 2014: 10875, 2015: 10708, 2016: 9282, 2017: 9142}},
            { id: "Friendship Heights", x: 458.9, y: 458.9, line: "Red", ridership: {2007: 9713, 2008: 10189, 2009: 9696, 2010: 9804, 2011: 9957, 2012: 9671, 2013: 9703, 2014: 9620, 2015: 9466, 2016: 8088, 2017: 8015}},
            { id: "Tenleytown-AU", x: 477.4, y: 470.6, line: "Red", ridership: {2007: 7493, 2008: 7401, 2009: 7290, 2010: 7091, 2011: 6677, 2012: 7220, 2013: 7074, 2014: 6736, 2015: 6351, 2016: 5246, 2017: 5357} },
            { id: "Van Ness-UDC", x: 501.8, y: 474.3, line: "Red", ridership: {2007: 7730, 2008: 7648, 2009: 7276, 2010: 7155, 2011: 7559, 2012: 6699, 2013: 6414, 2014: 6505, 2015: 6266, 2016: 5286, 2017: 5557}},
            { id: "Cleveland Park", x: 517.9, y: 490.4, line: "Red", ridership: {2007: 4976, 2008: 5010, 2009: 4807, 2010: 4656, 2011: 4676, 2012: 4700, 2013: 4731, 2014: 4514, 2015: 4366, 2016: 3829, 2017: 3773}},
            { id: "Woodley Park-Zoo/Adams Morgan", x: 537.4, y: 509.9, line: "Red", ridership: {2007: 8471, 2008: 8726, 2009: 8292, 2010: 7607, 2011: 7864, 2012: 7915, 2013: 7734, 2014: 7240, 2015: 7093, 2016: 6139, 2017: 5853}},
            { id: "Dupont Circle", x: 556.3, y: 528.8, line: "Red", ridership: {2007: 24149, 2008: 24591, 2009: 23561, 2010: 22907, 2011: 22721, 2012: 18830, 2013: 21084, 2014: 20889, 2015: 20415, 2016: 17519, 2017: 16948}},
            { id: "Farragut North", x: 571.5, y: 555.2, line: "Red", ridership: {2007: 26934, 2008: 26506, 2009: 25311, 2010: 24105, 2011: 23796, 2012: 26773, 2013: 25351, 2014: 25398, 2015: 25294, 2016: 22949, 2017: 21989}},
            { id: "Metro Center_red", x: 623.2, y: 625.5, line: "Red", ridership: {2007: 29798, 2008: 30615, 2009: 30569, 2010: 29698, 2011: 28983, 2012: 28802, 2013: 28039, 2014: 27883, 2015: 27058, 2016: 24160, 2017: 24053} },
            { id: "Gallery Pl-Chinatown_red", x: 685.5, y: 635.5, line: "Red", ridership: {2007: 21921, 2008: 25136, 2009: 25747, 2010: 25894, 2011: 25777, 2012: 26587, 2013: 25820, 2014: 25780, 2015: 25820, 2016: 22375, 2017: 22427}},
            { id: "Judiciary Sq", x: 742.2, y: 635.5, line: "Red", ridership: {2007: 10115, 2008: 10234, 2009: 10369, 2010: 9951, 2011: 9643, 2012: 9253, 2013: 9166, 2014: 8960, 2015: 8778, 2016: 8147, 2017: 8196}},
            { id: "Union Station", x: 791, y: 615.1, line: "Red", ridership: {2007: 32935, 2008: 34383, 2009: 34465, 2010: 32745, 2011: 33697, 2012: 33250, 2013: 32975, 2014: 32465, 2015: 31186, 2016: 28864, 2017: 29197} },
            { id: "NoMa-Gallaudet U", x: 791, y: 583.6, line: "Red", ridership: {2007: 3489, 2008: 4603, 2009: 5229, 2010: 5673, 2011: 7461, 2012: 8019, 2013: 8456, 2014: 8412, 2015: 9226, 2016: 8603, 2017: 8526}},
            { id: "Rhode Island Ave-Brentwood", x: 791, y: 552.5, line: "Red", ridership: {2007: 6046, 2008: 6144, 2009: 6121, 2010: 5651, 2011: 5227, 2012: 5645, 2013: 5896, 2014: 6070, 2015: 6001, 2016: 5552, 2017: 5345}},
            { id: "Brookland-CUA", x: 791, y: 521.2, line: "Red", ridership: {2007: 6795, 2008: 7036, 2009: 7158, 2010: 6858, 2011: 6576, 2012: 6827, 2013: 6676, 2014: 6673, 2015: 6619, 2016: 5672, 2017: 5468}},
            { id: "Fort Totten_red", x: 735.5, y: 460.4, line: "Red", ridership: {2007: 6877, 2008: 7071, 2009: 7198, 2010: 7543, 2011: 7364, 2012: 7636, 2013: 7853, 2014: 7976, 2015: 7932, 2016: 7566, 2017: 8030}},
            { id: "Takoma", x: 660.8, y: 377.6, line: "Red", ridership: {2007: 6466, 2008: 6664, 2009: 6811, 2010: 6685, 2011: 6488, 2012: 6143, 2013: 5823, 2014: 5813, 2015: 5774, 2016: 5190, 2017: 5108}},
            { id: "Silver Spring", x: 649, y: 307.2, line: "Red", ridership: {2007: 14777, 2008: 15155, 2009: 4077, 2010: 13421, 2011: 13471, 2012: 13621, 2013: 13057, 2014: 13195, 2015: 13008, 2016: 12234, 2017: 11850}},
            { id: "Forest Glen", x: 649, y: 277.6, line: "Red", ridership: {2007: 2302, 2008: 2409, 2009: 2514, 2010: 2366, 2011: 2365, 2012: 2448, 2013: 2443, 2014: 2442, 2015: 2382, 2016: 2181, 2017: 2126}},
            { id: "Wheaton", x: 649, y: 247.8, line: "Red", ridership: {2007: 4874, 2008: 4754, 2009: 4653, 2010: 4543, 2011: 4472, 2012: 4374, 2013: 4094, 2014: 4227, 2015: 4231, 2016: 3774, 2017: 3499}},
            { id: "Glenmont", x: 649, y: 218.2, line: "Red", ridership: {2007: 6096, 2008: 6117, 2009: 5966, 2010: 5857, 2011: 5850, 2012: 6190, 2013: 6149, 2014: 6270, 2015: 6185, 2016: 5671, 2017: 5643}},
            //green line
            { id: "Greenbelt", x: 842.2, y: 345.7, line: "Green", ridership: {2007: 7331, 2008: 7432, 2009: 7397, 2010: 7294, 2011: 6923, 2012: 6940, 2013: 6757, 2014: 6541, 2015: 6315, 2016: 5802, 2017: 3056} },
            { id: "CollegePark-U of Md", x: 820.1, y: 367.8, line: "Green", ridership: {2007: 4431, 2008: 4723, 2009: 4627, 2010: 4720, 2011: 4768, 2012: 4619, 2013: 4454, 2014: 4604, 2015: 4389, 2016: 3982, 2017: 5118} },
            { id: "Hyattsville Crossing", x: 798.3, y: 389.6, line: "Green", ridership: {2007: 4903, 2008: 5034, 2009: 5093, 2010: 5309, 2011: 5374, 2012: 5336, 2013: 5120, 2014: 5133, 2015: 5061, 2016: 4374, 2017: 4474} },
            { id: "West Hyattsville", x: 776.3, y: 411.6, line: "Green", ridership: {2007: 3839, 2008: 3925, 2009: 3694, 2010: 3809, 2011: 3855, 2012: 3951, 2013: 3905, 2014: 3995, 2015: 3843, 2016: 3455, 2017: 3487} },
            { id: "Fort Totten", x: 735.5, y: 452.4, line: "Green", ridership: {2007: 6877, 2008: 7071, 2009: 7198, 2010: 7543, 2011: 7364, 2012: 7636, 2013: 7853, 2014: 7976, 2015: 7932, 2016: 7566, 2017: 8030} },
            { id: "Georgia Ave-Petworth", x: 668.1, y: 476.5, line: "Green", ridership: {2007: 4808, 2008: 5041, 2009: 5399, 2010: 5855, 2011: 6027, 2012: 6305, 2013: 6290, 2014: 6408, 2015: 6296, 2016: 5719, 2017: 5708} },
            { id: "Columbia Heights", x: 648.3, y: 495.2, line: "Green", ridership: {2007: 8441, 2008: 10168, 2009: 11375, 2010: 11990, 2011: 12386, 2012: 12860, 2013: 12891, 2014: 12755, 2015: 12415, 2016: 11286, 2017: 10679} },
            { id: "U Street/African-Amer Civil War Memorial/Cardozo", x: 668.1, y: 520.2, line: "Green", ridership: {2007: 5934, 2008: 6567, 2009: 7115, 2010: 7183, 2011: 7048, 2012: 7238, 2013: 7501, 2014: 7968, 2015: 7823, 2016: 6608, 2017: 5301} },
            { id: "Shaw-Howard U",  x: 704.4, y: 560.4, line: "Green", ridership: {2007: 3804, 2008: 4029, 2009: 4256, 2010: 4290, 2011: 4439, 2012: 4696, 2013: 4751, 2014: 5044, 2015: 5087, 2016: 4569, 2017: 4188} },
            { id: "Mt Vernon Sq 7th St-Convention Center_green", x: 704.4, y: 598, line: "Green", ridership: {2007: 3633, 2008: 3990, 2009: 3634, 2010: 3888, 2011: 3813, 2012: 4263, 2013: 4293, 2014: 4541, 2015: 4629, 2016: 4368, 2017: 4172} },
            { id: "Gallery Pl-Chinatown", x: 705.5, y: 635.5, line: "Green", ridership: {2007: 21921, 2008: 25136, 2009: 25747, 2010: 25894, 2011: 25777, 2012: 26587, 2013: 25820, 2014: 25780, 2015: 25820, 2016: 22375, 2017: 22427} },
            { id: "Archives-Navy Memorial-Penn Quarter_green", x: 704.4, y: 673.1, line: "Green", ridership: {2007: 8520, 2008: 9324, 2009: 9539, 2010: 9727, 2011: 9565, 2012: 9496, 2013: 9461, 2014: 9099, 2015: 9220, 2016: 8628, 2017: 8344} },
            { id: "L'Enfant Plaza_green", x: 704.4, y: 730.6, line: "Green", ridership: {2007: 21924, 2008: 20269, 2009: 21705, 2010: 22563, 2011: 22067, 2012: 21926, 2013: 20761, 2014: 20222, 2015: 20367, 2016: 20394, 2017: 20235} },
            { id: "Waterfront", x: 727.5, y: 827.7, line: "Green", ridership: {2007: 3201, 2008: 3175, 2009: 3067, 2010: 3974, 2011: 4236, 2012: 4536, 2013: 4347, 2014: 4024, 2015: 4180, 2016: 4025, 2017: 3915} },
            { id: "Navy Yard-Ballpark", x: 763.5, y: 827.7, line: "Green", ridership: {2007: 4243, 2008: 9768, 2009: 9113, 2010: 9156, 2011: 8249, 2012: 9884, 2013: 9229, 2014: 10514, 2015: 10569, 2016: 10428, 2017: 9622} },
            { id: "Anacostia", x: 814.7, y: 847.6, line: "Green", ridership: {2007: 7642, 2008: 7681, 2009: 7719, 2010: 7774, 2011: 7479, 2012: 7598, 2013: 7342, 2014: 7256, 2015: 7172, 2016: 6153, 2017: 6026} },
            { id: "Congress Heights", x: 833.1, y: 866, line: "Green", ridership: {2007: 2556, 2008: 2723, 2009: 2722, 2010: 2826, 2011: 2819, 2012: 3035, 2013: 3030, 2014: 2732, 2015: 2666, 2016: 2303, 2017: 2173} },
            { id: "Southern Ave", x: 859.5, y: 881.8, line: "Green", ridership: {2007: 6356, 2008: 6537, 2009: 6263, 2010: 5931, 2011: 5776, 2012: 5909, 2013: 5523, 2014: 5349, 2015: 4789, 2016: 4612, 2017: 4451} },
            { id: "Naylor Rd", x: 895.8, y: 875.8, line: "Green", ridership: {2007: 3325, 2008: 3260, 2009: 3144, 2010: 3165, 2011: 3047, 2012: 3175, 2013: 3100, 2014: 3035, 2015: 2828, 2016: 2359, 2017: 2276} },
            { id: "Suitland", x: 918, y: 898, line: "Green", ridership: {2007: 6510, 2008: 6631, 2009: 6453, 2010: 6668, 2011: 6417, 2012: 6396, 2013: 5924, 2014: 5677, 2015: 5261, 2016: 4892, 2017: 4672} },
            { id: "Branch Ave", x: 940.2, y: 920.2, line: "Green", ridership: {2007: 6510, 2008: 6667, 2009: 6448, 2010: 6868, 2011: 6660, 2012: 6765, 2013: 6605, 2014: 6457, 2015: 6145, 2016: 5495, 2017: 5522} },
            //orange line
            { id: "Vienna/Fairfax-GMU", x: 160.4, y: 667.3, line: "Orange", ridership: {2007: 13143, 2008: 13642, 2009: 13759, 2010: 13967, 2011: 13682, 2012: 13773, 2013: 13141, 2014: 12947, 2015: 11458, 2016: 9728, 2017: 8962} },
            { id: "Dunn Loring-Merrifield", x: 195.3, y: 667.3, line: "Orange", ridership: {2007: 5491, 2008: 5502, 2009: 5304, 2010: 5371, 2011: 5310, 2012: 5239, 2013: 4958, 2014: 5347, 2015: 4386, 2016: 4023, 2017: 3688} },
            { id: "West Falls Church", x: 230, y: 667.3, line: "Orange", ridership: {2007: 10290, 2008: 10748, 2009: 10499, 2010: 10836, 2011: 10740, 2012: 10891, 2013: 10369, 2014: 10597, 2015: 3051, 2016: 2640, 2017: 2411} },
            { id: "East Falls Church_orange", x: 276.1, y: 675.7, line: "Orange", ridership: {2007: 4246, 2008: 4306, 2009: 4202, 2010: 4134, 2011: 4102, 2012: 4287, 2013: 4108, 2014: 4163, 2015: 4399, 2016: 3981, 2017: 3955} },
            { id: "Ballston-MU_orange", x: 309.1, y: 675.7, line: "Orange", ridership: {2007: 12564, 2008: 12807, 2009: 12414, 2010: 12508, 2011: 12016, 2012: 12042, 2013: 11590, 2014: 11673, 2015: 11520, 2016: 10107, 2017: 9414} },
            { id: "Virginia Sq-GMU_orange", x: 335, y: 675.7, line: "Orange", ridership: {2007: 3886, 2008: 4016, 2009: 4067, 2010: 4103, 2011: 3953, 2012: 3733, 2013: 3695, 2014: 3721, 2015: 3970, 2016: 3610, 2017: 3597} },
            { id: "Clarendon_orange", x: 360.8, y: 675.7, line: "Orange", ridership: {2007: 4166, 2008: 4406, 2009: 4355, 2010: 4335, 2011: 4414, 2012: 4838, 2013: 4829, 2014: 4667, 2015: 4882, 2016: 3996, 2017: 4028} },
            { id: "Court House_orange", x: 386.8, y: 675.7, line: "Orange", ridership: {2007: 7405, 2008: 7381, 2009: 7385, 2010: 7578, 2011: 7483, 2012: 7475, 2013: 7690, 2014: 7653, 2015: 7448, 2016: 6630, 2017: 6354} },
            { id: "Rosslyn_orange", x: 424.4, y: 638, line: "Orange", ridership: {2007: 15462, 2008: 17760, 2009: 16941, 2010: 18122, 2011: 17158, 2012: 16718, 2013: 15632, 2014: 15460, 2015: 14815, 2016: 13195, 2017: 12436} },
            { id: "Foggy Bottom-GWU_orange", x: 505.5, y: 587.5, line: "Orange", ridership: {2007: 20560, 2008: 21248, 2009: 20923, 2010: 21587, 2011: 21318, 2012: 22827, 2013: 22512, 2014: 22053, 2015: 21462, 2016: 18862, 2017: 17666} },
            { id: "Farragut West_orange", x: 535.9, y: 587.5, line: "Orange", ridership: {2007: 24121, 2008: 23190, 2009: 22469, 2010: 23137, 2011: 22575, 2012: 22918, 2013: 22545, 2014: 23147, 2015: 22374, 2016: 19498, 2017: 18762} },
            { id: "McPherson Sq_orange", x: 594.7, y: 595.5, line: "Orange", ridership: {2007: 16441, 2008: 16959, 2009: 17009, 2010: 17370, 2011: 16873, 2012: 16845, 2013: 16234, 2014: 16212, 2015: 15635, 2016: 13658, 2017: 13247} },
            { id: "Metro Center_orange", x: 629.6, y: 636, line: "Orange", ridership: {2007: 29798, 2008: 30615, 2009: 30569, 2010: 29698, 2011: 28983, 2012: 28802, 2013: 28039, 2014: 27883, 2015: 27058, 2016: 24160, 2017: 24053} },
            { id: "Federal Triangle_orange", x: 623.6, y: 678, line: "Orange", ridership: {2007: 10429, 2008: 10603, 2009: 11108, 2010: 10756, 2011: 10258, 2012: 9879, 2013: 9052, 2014: 8498, 2015: 8411, 2016: 7560, 2017: 7555} },
            { id: "Smithsonian_orange", x: 623.6, y: 713.7, line: "Orange", ridership: {2007: 11597, 2008: 12027, 2009: 12764, 2010: 12895, 2011: 12603, 2012: 11946, 2013: 10786, 2014: 10911, 2015: 10684, 2016: 9009, 2017: 9135} },
            { id: "L'Enfant Plaza_orange", x: 695.9, y: 720.2, line: "Orange", ridership: {2007: 21924, 2008: 20269, 2009: 21705, 2010: 22563, 2011: 22067, 2012: 21926, 2013: 20761, 2014: 20222, 2015: 20367, 2016: 20394, 2017: 20235} },
            { id: "Federal Center SW_orange", x: 742.3, y: 730.9, line: "Orange", ridership: {2007: 5307, 2008: 6062, 2009: 5902, 2010: 5951, 2011: 6011, 2012: 6439, 2013: 5736, 2014: 5399, 2015: 5373, 2016: 5297, 2017: 5426} },
            { id: "Capital South_orange", x: 780.8, y: 730.9, line: "Orange", ridership: {2007: 8452, 2008: 8900, 2009: 9414, 2010: 9639, 2011: 9194, 2012: 8047, 2013: 8618, 2014: 8287, 2015: 7973, 2016: 6927, 2017: 6856} },
            { id: "Eastern Market_orange", x: 815.9, y: 724.1, line: "Orange", ridership: {2007: 5875, 2008: 5960, 2009: 6038, 2010: 6308, 2011: 6262, 2012: 6193, 2013: 6382, 2014: 6261, 2015: 6194, 2016: 5297, 2017: 5119} },
            { id: "Potomac Ave_orange", x: 828.6, y: 705, line: "Orange", ridership: {2007: 3583, 2008: 3824, 2009: 4098, 2010: 4144, 2011: 4050, 2012: 3978, 2013: 3869, 2014: 3834, 2015: 3783, 2016: 3229, 2017: 3261} },
            { id: "Stadium-Armory_orange", x: 868.8, y: 688.2, line: "Orange", ridership: {2007: 5329, 2008: 3235, 2009: 3062, 2010: 3559, 2011: 3077, 2012: 3069, 2013: 2873, 2014: 3022, 2015: 2809, 2016: 2379, 2017: 2763} },
            { id: "Minnesota Ave", x: 935, y: 670.2, line: "Orange", ridership: {2007: 3488, 2008: 3552, 2009: 3461, 2010: 3410, 2011: 3274, 2012: 3257, 2013: 3110, 2014: 3005, 2015: 2827, 2016: 2151, 2017: 1006} },
            { id: "Deanwood", x: 956.9, y: 648.2, line: "Orange", ridership: {2007: 1827, 2008: 1978, 2009: 1960, 2010: 1909, 2011: 1844, 2012: 1829, 2013: 1754, 2014: 1664, 2015: 1556, 2016: 1234, 2017: 637} },
            { id: "Cheverly", x: 978.3, y: 626.8, line: "Orange", ridership: {2007: 1609, 2008: 1629, 2009: 1548, 2010: 1571, 2011: 1543, 2012: 1546, 2013: 1547, 2014: 1493, 2015: 1357, 2016: 1104, 2017: 557} },
            { id: "Landover", x: 1000, y: 604.9, line: "Orange", ridership: {2007: 2796, 2008: 2763, 2009: 2593, 2010: 2570, 2011: 2478, 2012: 2336, 2013: 2191, 2014: 2087, 2015: 1938, 2016: 1546, 2017: 731} },
            { id: "New Carrollton", x: 1021.8, y: 583.3, line: "Orange", ridership: {2007: 10436, 2008: 10625, 2009: 10118, 2010: 10287, 2011: 9940, 2012: 9839, 2013: 9242, 2014: 9098, 2015: 8349, 2016: 6991, 2017: 3691} },
            //blue line
            { id: "Addison Road-Seat Pleasant_blue",  x: 1025, y: 712, line: "Blue", ridership: {2007: 3939, 2008: 3897, 2009: 3674, 2010: 3759, 2011: 3626, 2012: 3544, 2013: 3358, 2014: 3345, 2015: 3349, 2016: 2745, 2017: 2899} },
            { id: "Arlington Cemetery",  x: 485.2, y: 774.2, line: "Blue", ridership: {2007: 1889, 2008: 2081, 2009: 1970, 2010: 1889, 2011: 1866, 2012: 1827, 2013: 1768, 2014: 1744, 2015: 1918, 2016: 1555, 2017: 1476} },
            { id: "Benning Road_blue",  x: 971.9, y: 712, line: "Blue", ridership: {2007: 3288, 2008: 3382, 2009: 3316, 2010: 3399, 2011: 3241, 2012: 3183, 2013: 3163, 2014: 3200, 2015: 3154, 2016: 2474, 2017: 2536} },
            { id: "Braddock Road_blue",  x: 596.9, y: 1001.3, line: "Blue", ridership: {2007: 4327, 2008: 4506, 2009: 4593, 2010: 4524, 2011: 4559, 2012: 4484, 2013: 4408, 2014: 4631, 2015: 4725, 2016: 4569, 2017: 3969} },
            { id: "Capitol Heights_blue",  x: 998.4, y: 712, line: "Blue", ridership: {2007: 2137, 2008: 2225, 2009: 2221, 2010: 2241, 2011: 2150, 2012: 2374, 2013: 2105, 2014: 2102, 2015: 2081, 2016: 1783, 2017: 1965} },
            { id: "Capitol South",  x: 773.7, y: 722, line: "Blue", ridership: {2007: 8452, 2008: 8900, 2009: 9414, 2010: 9639, 2011: 9194, 2012: 8047, 2013: 8618, 2014: 8287, 2015: 7973, 2016: 6927, 2017: 6856} },
            { id: "Crystal City_blue",  x: 557.7, y: 933.6, line: "Blue", ridership: {2007: 14158, 2008: 15028, 2009: 14748, 2010: 14952, 2011: 15187, 2012: 13592, 2013: 12594, 2014: 11959, 2015: 12008, 2016: 11179, 2017: 10239}},
            { id: "Downtown Largo_blue",  x: 1078.1, y: 712, line: "Blue", ridership: {2007: 5015, 2008: 5195, 2009: 5112, 2010: 5283, 2011: 5111, 2012: 5159, 2013: 4874, 2014: 4912, 2015: 4754, 2016: 4177, 2017: 4565} },
            { id: "Eastern Market",  x: 808, y: 715.2, line: "Blue", ridership: {2007: 5875, 2008: 5960, 2009: 6038, 2010: 6308, 2011: 6262, 2012: 6193, 2013: 6382, 2014: 6261, 2015: 6194, 2016: 5297, 2017: 5119} },
            { id: "Farragut West",  x: 542.6, y: 586.3, line: "Blue", ridership: {2007: 24121, 2008: 23190, 2009: 22469, 2010: 23137, 2011: 22575, 2012: 22918, 2013: 22545, 2014: 23147, 2015: 22374, 2016: 19498, 2017: 18762} },
            { id: "Federal Center SW",  x: 737.1, y: 722, line: "Blue", ridership: {2007: 5307, 2008: 6062, 2009: 5902, 2010: 5951, 2011: 6011, 2012: 6439, 2013: 5736, 2014: 5399, 2015: 5373, 2016: 5297, 2017: 5426} },
            { id: "Federal Triangle",  x: 629.8, y: 672.2, line: "Blue", ridership: {2007: 10429, 2008: 10603, 2009: 11108, 2010: 10756, 2011: 10258, 2012: 9879, 2013: 9052, 2014: 8498, 2015: 8411, 2016: 7560, 2017: 7555} },
            { id: "Foggy Bottom-GWU",  x: 514.7, y: 595.3, line: "Blue", ridership: {2007: 20560, 2008: 21248, 2009: 20923, 2010: 21587, 2011: 21318, 2012: 22827, 2013: 22512, 2014: 22053, 2015: 21462, 2016: 18862, 2017: 17666} },
            { id: "Franconia-Springfield",  x: 397.9, y: 1113.7, line: "Blue", ridership: {2007: 9769, 2008: 9823, 2009: 9591, 2010: 9665, 2011: 9543, 2012: 9089, 2013: 8306, 2014: 8175, 2015: 7771, 2016: 6970, 2017: 5589} },
            { id: "King St-Old Town_blue",  x: 596.9, y: 1030.3, line: "Blue", ridership: {2007: 9084, 2008: 9510, 2009: 9308, 2010: 8991, 2011: 9306, 2012: 9090, 2013: 9054, 2014: 9170, 2015: 8908, 2016: 7829, 2017: 6752} },
            { id: "L'Enfant Plaza",  x: 695.2, y: 739, line: "Blue", ridership: {2007: 21924, 2008: 20269, 2009: 21705, 2010: 22563, 2011: 22067, 2012: 21926, 2013: 20761, 2014: 20222, 2015: 20367, 2016: 20394, 2017: 20235} },
            { id: "McPherson Square",  x: 585.5, y: 586.3, line: "Blue", ridership: {2007: 16441, 2008: 16959, 2009: 17009, 2010: 17370, 2011: 16873, 2012: 16845, 2013: 16234, 2014: 16212, 2015: 15635, 2016: 13658, 2017: 13247} },
            { id: "Metro Center",  x: 615.8, y: 635.4, line: "Blue", ridership: {2007: 29798, 2008: 30615, 2009: 30569, 2010: 29698, 2011: 28983, 2012: 28802, 2013: 28039, 2014: 27883, 2015: 27058, 2016: 24160, 2017: 24053} },
            { id: "Morgan Boulevard_blue",  x: 1051.3, y: 712, line: "Blue", ridership: {2007: 'NA' , 2008: 'NA' , 2009: 'NA' , 2010: 'NA' , 2011: 1736, 2012: 1929, 2013: 2036, 2014: 2112, 2015: 1757, 2016: 2881} },
            { id: "Pentagon_blue",  x: 536.1, y: 845.9, line: "Blue", ridership: {2007: 15968, 2008: 16055, 2009: 16318, 2010: 16726, 2011: 16999, 2012: 17114, 2013: 16324, 2014: 15853, 2015: 15145, 2016: 13989, 2017: 13074} },
            { id: "Pentagon City_blue",  x: 536.1, y: 893.7, line: "Blue", ridership: {2007: 16339, 2008: 16803, 2009: 16503, 2010: 17197, 2011: 17023, 2012: 16382, 2013: 15589, 2014: 15623, 2015: 14427, 2016: 13070, 2017: 12137} },
            { id: "Potomac Ave",  x: 827.3, y: 695, line: "Blue", ridership: {2007: 3583, 2008: 3824, 2009: 4098, 2010: 4144, 2011: 4050, 2012: 3978, 2013: 3869, 2014: 3834, 2015: 3783, 2016: 3229, 2017: 3261} },
            { id: "Potomac Yard_blue",  x: 596.9, y: 979, line: "Blue", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 'NA', 2015: 'NA', 2016: 'NA', 2017: 'NA'} },
            { id: "Ronald Reagan Washington National Airport_blue",  x: 596.9, y: 956.3, line: "Blue", ridership: {2007: 6458, 2008: 6344, 2009: 6349, 2010: 6414, 2011: 6739, 2012: 6341, 2013: 6561, 2014: 6732, 2015: 7284, 2016: 6538, 2017: 5906} },
            { id: "Rosslyn",  x: 428.3, y: 652.9, line: "Blue", ridership: {2007: 15462, 2008: 17760, 2009: 16941, 2010: 18122, 2011: 17158, 2012: 16718, 2013: 15632, 2014: 15460, 2015: 14815, 2016: 13195, 2017: 12436} },
            { id: "Smithsonian",  x: 622.8, y: 707.7, line: "Blue", ridership: {2007: 11597, 2008: 12027, 2009: 12764, 2010: 12895, 2011: 12603, 2012: 11946, 2013: 10786, 2014: 10911, 2015: 10684, 2016: 9009, 2017: 9135} },
            { id: "Stadium-Armory",  x: 867.8, y: 694.8, line: "Blue", ridership: {2007: 5329, 2008: 3235, 2009: 3062, 2010: 3559, 2011: 3077, 2012: 3069, 2013: 2873, 2014: 3022, 2015: 2809, 2016: 2379, 2017: 2763} },
            { id: "Van Dorn Street",  x: 452.4, y: 1048.2, line: "Blue", ridership: {2007: 3825, 2008: 3828, 2009: 3689, 2010: 3792, 2011: 3653, 2012: 3587, 2013: 3380, 2014: 3374, 2015: 3234, 2016: 3052, 2017: 2468} },
            //yellow line
            { id: "Archives-Navy Memorial-Penn Quarter",  x: 694.8, y: 672.7, line: "Yellow", ridership: {2007: 8520, 2008: 9324, 2009: 9539, 2010: 9727, 2011: 9565, 2012: 9496, 2013: 9461, 2014: 9099, 2015: 9220, 2016: 8628, 2017: 8344} },
            { id: "Braddock Road",  x: 605.9, y: 1001.3, line: "Yellow", ridership: {2007: 4327, 2008: 4506, 2009: 4593, 2010: 4524, 2011: 4559, 2012: 4484, 2013: 4408, 2014: 4631, 2015: 4725, 2016: 4569, 2017: 3969} },
            { id: "Crystal City",  x: 565.7, y: 933.6, line: "Yellow", ridership: {2007: 14158, 2008: 15028, 2009: 14748, 2010: 14952, 2011: 15187, 2012: 13592, 2013: 12594, 2014: 11959, 2015: 12008, 2016: 11179, 2017: 10239} },
            { id: "Eisenhower Avenue",  x: 604.8, y: 1070.9, line: "Yellow", ridership: {2007: 2037, 2008: 2164, 2009: 2496, 2010: 2399, 2011: 2094, 2012: 2080, 2013: 1951, 2014: 1919, 2015: 1757, 2016: 1591, 2017: 1331} },
            { id: "Gallery Pl-Chinatown",  x: 694.8, y: 634.1, line: "Yellow", ridership: {2007: 21921, 2008: 25136, 2009: 25747, 2010: 25894, 2011: 25777, 2012: 26587, 2013: 25820, 2014: 25780, 2015: 25820, 2016: 22375, 2017: 22427} },
            { id: "Huntington",  x: 604.8, y: 1113.9, line: "Yellow", ridership: {2007: 8601, 2008: 8834, 2009: 8847, 2010: 8760, 2011: 9184, 2012: 9060, 2013: 8571, 2014: 8314, 2015: 7922, 2016: 7137, 2017: 6629} },
            { id: "King St-Old Town",  x: 605.9, y: 1030.3, line: "Yellow", ridership: {2007: 9084, 2008: 9510, 2009: 9308, 2010: 8991, 2011: 9306, 2012: 9090, 2013: 9054, 2014: 9170, 2015: 8908, 2016: 7829, 2017: 6752} },
            { id: "L'Enfant Plaza",  x: 695.2, y: 753, line: "Yellow", ridership: {2007: 21924, 2008: 20269, 2009: 21705, 2010: 22563, 2011: 22067, 2012: 21926, 2013: 20761, 2014: 20222, 2015: 20367, 2016: 20394, 2017: 20235} },
            { id: "Mt Vernon Sq 7th St-Convention Center",  x: 694.8, y: 597.6, line: "Yellow", ridership: {2007: 3633, 2008: 3990, 2009: 3634, 2010: 3888, 2011: 3813, 2012: 4263, 2013: 4293, 2014: 4541, 2015: 4629, 2016: 4368, 2017: 4172} },
            { id: "Pentagon",  x: 545.1, y: 845.9, line: "Yellow", ridership: {2007: 15968, 2008: 16055, 2009: 16318, 2010: 16726, 2011: 16999, 2012: 17114, 2013: 16324, 2014: 15853, 2015: 15145, 2016: 13989, 2017: 13074} },
            { id: "Pentagon City",  x: 545.1, y: 893.7, line: "Yellow", ridership: {2007: 16339, 2008: 16803, 2009: 16503, 2010: 17197, 2011: 17023, 2012: 16382, 2013: 15589, 2014: 15623, 2015: 14427, 2016: 13070, 2017: 12137} },
            { id: "Potomac Yard",  x: 605.9, y: 979, line: "Yellow", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 'NA', 2015: 'NA', 2016: 'NA', 2017: 'NA'} },
            { id: "Ronald Reagan Washington National Airport",  x: 605.9, y: 956.3, line: "Yellow", ridership: {2007: 6458, 2008: 6344, 2009: 6349, 2010: 6414, 2011: 6739, 2012: 6341, 2013: 6561, 2014: 6732, 2015: 7284, 2016: 6538, 2017: 5906} },
            //silver line
            { id: "Addison Road-Seat Pleasant",  x: 1025, y: 703, line: "Silver", ridership: {2007: 3939, 2008: 3897, 2009: 3674, 2010: 3759, 2011: 3626, 2012: 3544, 2013: 3358, 2014: 3345, 2015: 3349, 2016: 2745, 2017: 2899} },
            { id: "Ashburn",  x: 52.3, y: 468.3, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 'NA', 2015: 'NA', 2016: 'NA', 2017: 'NA'} },
            { id: "Ballston-MU",  x: 307.9, y: 668.3, line: "Silver", ridership: {2007: 12564, 2008: 12807, 2009: 12414, 2010: 12508, 2011: 12016, 2012: 12042, 2013: 11590, 2014: 11673, 2015: 11520, 2016: 10107, 2017: 9414} },
            { id: "Benning Road",  x: 971.9, y: 703, line: "Silver", ridership: {2007: 3288, 2008: 3382, 2009: 3316, 2010: 3399, 2011: 3241, 2012: 3183, 2013: 3163, 2014: 3200, 2015: 3154, 2016: 2474, 2017: 2536} },
            { id: "Capitol Heights",  x: 998.4, y: 703, line: "Silver", ridership: {2007: 2137, 2008: 2225, 2009: 2221, 2010: 2241, 2011: 2150, 2012: 2374, 2013: 2105, 2014: 2102, 2015: 2081, 2016: 1783, 2017: 1965} },
            { id: "Capitol South",  x: 773.7, y: 730, line: "Silver", ridership: {2007: 8452, 2008: 8900, 2009: 9414, 2010: 9639, 2011: 9194, 2012: 8047, 2013: 8618, 2014: 8287, 2015: 7973, 2016: 6927, 2017: 6856} },
            { id: "Clarendon",  x: 359.9, y: 668.3, line: "Silver", ridership: {2007: 4166, 2008: 4406, 2009: 4355, 2010: 4335, 2011: 4414, 2012: 4838, 2013: 4829, 2014: 4667, 2015: 4882, 2016: 3996, 2017: 4028} },
            { id: "Court House",  x: 385.6, y: 668.3, line: "Silver", ridership: {2007: 7405, 2008: 7381, 2009: 7385, 2010: 7578, 2011: 7483, 2012: 7475, 2013: 7690, 2014: 7653, 2015: 7448, 2016: 6630, 2017: 6354} },
            { id: "Downtown Largo",  x: 1078.1, y: 703, line: "Silver", ridership: {2007: 5015, 2008: 5195, 2009: 5112, 2010: 5283, 2011: 5111, 2012: 5159, 2013: 4874, 2014: 4912, 2015: 4754, 2016: 4177, 2017: 4565} },
            { id: "East Falls Church",  x: 274.8, y: 668.3, line: "Silver", ridership: {2007: 4246, 2008: 4306, 2009: 4202, 2010: 4134, 2011: 4102, 2012: 4287, 2013: 4108, 2014: 4163, 2015: 4399, 2016: 3981, 2017: 3955} },
            { id: "Eastern Market",  x: 808, y: 723.2, line: "Silver", ridership: {2007: 5875, 2008: 5960, 2009: 6038, 2010: 6308, 2011: 6262, 2012: 6193, 2013: 6382, 2014: 6261, 2015: 6194, 2016: 5297, 2017: 5119} },
            { id: "Farragut West",  x: 550.6, y: 586.3, line: "Silver", ridership: {2007: 24121, 2008: 23190, 2009: 22469, 2010: 23137, 2011: 22575, 2012: 22918, 2013: 22545, 2014: 23147, 2015: 22374, 2016: 19498, 2017: 18762} },
            { id: "Federal Center SW",  x: 737.1, y: 744, line: "Silver", ridership: {2007: 5307, 2008: 6062, 2009: 5902, 2010: 5951, 2011: 6011, 2012: 6439, 2013: 5736, 2014: 5399, 2015: 5373, 2016: 5297, 2017: 5426} },
            { id: "Federal Triangle",  x: 615.8, y: 672.2, line: "Silver", ridership: {2007: 10429, 2008: 10603, 2009: 11108, 2010: 10756, 2011: 10258, 2012: 9879, 2013: 9052, 2014: 8498, 2015: 8411, 2016: 7560, 2017: 7555} },
            { id: "Foggy Bottom-GWU",  x: 514.7, y: 580.3, line: "Silver", ridership: {2007: 20560, 2008: 21248, 2009: 20923, 2010: 21587, 2011: 21318, 2012: 22827, 2013: 22512, 2014: 22053, 2015: 21462, 2016: 18862, 2017: 17666} },
            { id: "Greensboro",  x: 194.6, y: 609.5, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: -'NA', 2010: -'NA', 2011: -'NA', 2012: -'NA', 2013: -'NA', 2014: 0, 2015: 1071, 2016: 1081, 2017: 1083} },
            { id: "Herndon",  x: 122.9, y: 538.2, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 'NA', 2015: 'NA', 2016: 'NA', 2017: 'NA'} },
            { id: "Innovation Center",  x: 105.9, y: 521.2, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 'NA', 2015: 'NA', 2016: 'NA', 2017: 'NA'} },
            { id: "L'Enfant Plaza",  x: 695.2, y: 730, line: "Silver", ridership: {2007: 21924, 2008: 20269, 2009: 21705, 2010: 22563, 2011: 22067, 2012: 21926, 2013: 20761, 2014: 20222, 2015: 20367, 2016: 20394, 2017: 20235} },
            { id: "Loudoun Gateway",  x: 68.4, y: 483.4, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 'NA', 2015: 'NA', 2016: 'NA', 2017: 'NA'} },
            { id: "McLean",  x: 230.4, y: 645.9, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: -'NA', 2014: 0, 2015: 1669, 2016: 1571, 2017: 1629} },
            { id: "McPherson Square",  x: 600.5, y: 586.3, line: "Silver", ridership: {2007: 16441, 2008: 16959, 2009: 17009, 2010: 17370, 2011: 16873, 2012: 16845, 2013: 16234, 2014: 16212, 2015: 15635, 2016: 13658, 2017: 13247} },
            { id: "Metro Center",  x: 622.8, y: 645.4, line: "Silver", ridership: {2007: 29798, 2008: 30615, 2009: 30569, 2010: 29698, 2011: 28983, 2012: 28802, 2013: 28039, 2014: 27883, 2015: 27058, 2016: 24160, 2017: 24053} },
            { id: "Morgan Boulevard",  x: 1051.3, y: 703, line: "Silver", ridership: {2007: 'NA' , 2008: 'NA' , 2009: 'NA' , 2010: 'NA' , 2011: 1736, 2012: 1929, 2013: 2036, 2014: 2112, 2015: 1757, 2016: 2881} },
            { id: "Potomac Ave",  x: 835.3, y: 715, line: "Silver", ridership: {2007: 3583, 2008: 3824, 2009: 4098, 2010: 4144, 2011: 4050, 2012: 3978, 2013: 3869, 2014: 3834, 2015: 3783, 2016: 3229, 2017: 3261} },
            { id: "Reston Town Center",  x: 141.1, y: 555.8, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 'NA', 2015: 'NA', 2016: 'NA', 2017: 'NA'} },
            { id: "Rosslyn",  x: 423.3, y: 626.9, line: "Silver", ridership: {2007: 15462, 2008: 17760, 2009: 16941, 2010: 18122, 2011: 17158, 2012: 16718, 2013: 15632, 2014: 15460, 2015: 14815, 2016: 13195, 2017: 12436} },
            { id: "Smithsonian",  x: 622.8, y: 702.7, line: "Silver", ridership: {2007: 11597, 2008: 12027, 2009: 12764, 2010: 12895, 2011: 12603, 2012: 11946, 2013: 10786, 2014: 10911, 2015: 10684, 2016: 9009, 2017: 9135} },
            { id: "Spring Hill",  x: 177, y: 592, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 0, 2015: 1406, 2016: 1218, 2017: 1145} },
            { id: "Stadium-Armory",  x: 867.8, y: 700.8, line: "Silver", ridership: {2007: 5329, 2008: 3235, 2009: 3062, 2010: 3559, 2011: 3077, 2012: 3069, 2013: 2873, 2014: 3022, 2015: 2809, 2016: 2379, 2017: 2763} },
            { id: "Tysons",  x: 212.5, y: 627.2, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 0, 2015: 3141, 2016: 2970, 2017: 3024} },
            { id: "Virginia Square-GMU",  x: 334, y: 668.3, line: "Silver", ridership: {2007: 3886, 2008: 4016, 2009: 4067, 2010: 4103, 2011: 3953, 2012: 3733, 2013: 3695, 2014: 3721, 2015: 3970, 2016: 3610, 2017: 3597} },
            { id: "Washington Dulles International Airport",  x: 85.7, y: 501, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 'NA', 2015: 'NA', 2016: 'NA', 2017: 'NA'} },
            { id: "Wiehle-Reston East",  x: 159.2, y: 574.3, line: "Silver", ridership: {2007: 'NA', 2008: 'NA', 2009: 'NA', 2010: 'NA', 2011: 'NA', 2012: 'NA', 2013: 'NA', 2014: 0, 2015: 8588, 2016: 7404, 2017: 7262} },

        ];

        const links = [
            //red line
            { source: "Shady Grove", target: "Rockville", line: "Red" },
            { source: "Rockville", target: "TwinBrook", line: "Red" },
            { source: "TwinBrook", target: "North Bethesda", line: "Red" },
            { source: "North Bethesda", target: "Grosvenor-Strathmore", line: "Red" },
            { source: "Grosvenor-Strathmore", target: "Medical Center", line: "Red" },
            { source: "Medical Center", target: "Bethesda", line: "Red" },
            { source: "Bethesda", target: "Friendship Heights", line: "Red" },
            { source: "Friendship Heights", target: "Tenleytown-AU", line: "Red" },
            { source: "Tenleytown-AU", target: "Van Ness-UDC", line: "Red" },
            { source: "Van Ness-UDC", target: "Cleveland Park", line: "Red" },
            { source: "Cleveland Park", target: "Woodley Park-Zoo/Adams Morgan", line: "Red" },
            { source: "Woodley Park-Zoo/Adams Morgan", target: "Dupont Circle", line: "Red" },
            { source: "Dupont Circle", target: "Farragut North", line: "Red" },
            { source: "Farragut North", target: "Metro Center_red", line: "Red" },
            { source: "Metro Center_red", target: "Gallery Pl-Chinatown_red", line: "Red" },
            { source: "Gallery Pl-Chinatown_red", target: "Judiciary Sq", line: "Red" },
            { source: "Judiciary Sq", target: "Union Station", line: "Red" },
            { source: "Union Station", target: "NoMa-Gallaudet U", line: "Red" },
            { source: "NoMa-Gallaudet U", target: "Rhode Island Ave-Brentwood", line: "Red" },
            { source: "Rhode Island Ave-Brentwood", target: "Brookland-CUA", line: "Red" },
            { source: "Brookland-CUA", target: "Fort Totten_red", line: "Red" },
            { source: "Fort Totten_red", target: "Takoma", line: "Red" },
            { source: "Takoma", target: "Silver Spring", line: "Red" },
            { source: "Silver Spring", target: "Forest Glen", line: "Red" },
            { source: "Forest Glen", target: "Wheaton", line: "Red" },
            { source: "Wheaton", target: "Glenmont", line: "Red" },
            //green line
            { source: "Greenbelt", target: "CollegePark-U of Md", line: "Green" },
            { source: "CollegePark-U of Md", target: "Hyattsville Crossing", line: "Green" },
            { source: "Hyattsville Crossing", target: "West Hyattsville", line: "Green" },
            { source: "West Hyattsville", target: "Fort Totten", line: "Green" },
            { source: "Fort Totten", target: "Georgia Ave-Petworth", line: "Green" },
            { source: "Georgia Ave-Petworth", target: "Columbia Heights", line: "Green" },
            { source: "Columbia Heights", target: "U Street/African-Amer Civil War Memorial/Cardozo", line: "Green" },
            { source: "U Street/African-Amer Civil War Memorial/Cardozo", target: "Shaw-Howard U", line: "Green" },
            { source: "Shaw-Howard U", target: "Mt Vernon Sq 7th St-Convention Center_green", line: "Green" },
            { source: "Mt Vernon Sq 7th St-Convention Center_green", target: "Gallery Pl-Chinatown", line: "Green" },
            { source: "Gallery Pl-Chinatown", target: "Archives-Navy Memorial-Penn Quarter_green", line: "Green" },
            { source: "Archives-Navy Memorial-Penn Quarter_green", target: "L'Enfant Plaza_green", line: "Green" },
            { source: "L'Enfant Plaza_green", target: "Waterfront", line: "Green" },
            { source: "Waterfront", target: "Navy Yard-Ballpark", line: "Green" },
            { source: "Navy Yard-Ballpark", target: "Anacostia", line: "Green" },
            { source: "Anacostia", target: "Congress Heights", line: "Green" },
            { source: "Congress Heights", target: "Southern Ave", line: "Green" },
            { source: "Southern Ave", target: "Naylor Rd", line: "Green" },
            { source: "Naylor Rd", target: "Suitland", line: "Green" },
            { source: "Suitland", target: "Branch Ave", line: "Green" },
            //orange line
            { source: "Vienna/Fairfax-GMU", target: "Dunn Loring-Merrifield", line: "Orange" },
            { source: "Dunn Loring-Merrifield", target: "West Falls Church", line: "Orange" },
            { source: "West Falls Church", target: "East Falls Church_orange", line: "Orange" },
            { source: "East Falls Church_orange", target: "Ballston-MU_orange", line: "Orange" },
            { source: "Ballston-MU_orange", target: "Virginia Sq-GMU_orange", line: "Orange" },
            { source: "Virginia Sq-GMU_orange", target: "Clarendon_orange", line: "Orange" },
            { source: "Clarendon_orange", target: "Court House_orange", line: "Orange" },
            { source: "Court House_orange", target: "Rosslyn_orange", line: "Orange" },
            { source: "Rosslyn_orange", target: "Foggy Bottom-GWU_orange", line: "Orange" },
            { source: "Foggy Bottom-GWU_orange", target: "Farragut West_orange", line: "Orange" },
            { source: "Farragut West_orange", target: "McPherson Sq_orange", line: "Orange" },
            { source: "McPherson Sq_orange", target: "Metro Center_orange", line: "Orange" },
            { source: "Metro Center_orange", target: "Federal Triangle_orange", line: "Orange" },
            { source: "Federal Triangle_orange", target: "Smithsonian_orange", line: "Orange" },
            { source: "Smithsonian_orange", target: "L'Enfant Plaza_orange", line: "Orange" },
            { source: "L'Enfant Plaza_orange", target: "Federal Center SW_orange", line: "Orange" },
            { source: "Federal Center SW_orange", target: "Capital South_orange", line: "Orange" },
            { source: "Capital South_orange", target: "Eastern Market_orange", line: "Orange" },
            { source: "Eastern Market_orange", target: "Potomac Ave_orange", line: "Orange" },
            { source: "Potomac Ave_orange", target: "Stadium-Armory_orange", line: "Orange" },
            { source: "Stadium-Armory_orange", target: "Minnesota Ave", line: "Orange" },
            { source: "Minnesota Ave", target: "Deanwood", line: "Orange" },
            { source: "Deanwood", target: "Cheverly", line: "Orange" },
            { source: "Cheverly", target: "Landover", line: "Orange" },
            { source: "Landover", target: "New Carrollton", line: "Orange" },
            //blue line
            { source: "Franconia-Springfield", target: "Van Dorn Street", line: "Blue" },
            { source: "Van Dorn Street", target: "King St-Old Town_blue", line: "Blue" },
            { source: "King St-Old Town_blue", target: "Braddock Road_blue", line: "Blue" },
            { source: "Braddock Road_blue", target: "Potomac Yard_blue", line: "Blue" },
            { source: "Potomac Yard_blue", target: "Ronald Reagan Washington National Airport_blue", line: "Blue" },
            { source: "Ronald Reagan Washington National Airport_blue", target: "Crystal City", line: "Blue" },
            { source: "Crystal City", target: "Pentagon City_blue", line: "Blue" },
            { source: "Pentagon City_blue", target: "Pentagon_blue", line: "Blue" },
            { source: "Pentagon_blue", target: "Arlington Cemetery", line: "Blue" },
            { source: "Arlington Cemetery", target: "Rosslyn", line: "Blue" },
            { source: "Rosslyn", target: "Foggy Bottom-GWU", line: "Blue" },
            { source: "Foggy Bottom-GWU", target: "Farragut West", line: "Blue" },
            { source: "Farragut West", target: "McPherson Square", line: "Blue" },
            { source: "McPherson Square", target: "Metro Center", line: "Blue" },
            { source: "Metro Center", target: "Federal Triangle", line: "Blue" },
            { source: "Federal Triangle", target: "Smithsonian", line: "Blue" },
            { source: "Smithsonian", target: "L'Enfant Plaza", line: "Blue" },
            { source: "L'Enfant Plaza", target: "Federal Center SW", line: "Blue" },
            { source: "Federal Center SW", target: "Capitol South", line: "Blue" },
            { source: "Capitol South", target: "Eastern Market", line: "Blue" },
            { source: "Eastern Market", target: "Potomac Ave", line: "Blue" },
            { source: "Potomac Ave", target: "Stadium-Armory", line: "Blue" },
            { source: "Stadium-Armory", target: "Benning Road_blue", line: "Blue" },
            { source: "Benning Road_blue", target: "Capitol Heights_blue", line: "Blue" },
            { source: "Capitol Heights_blue", target: "Addison Road-Seat Pleasant_blue", line: "Blue" },
            { source: "Addison Road-Seat Pleasant_blue", target: "Morgan Boulevard_blue", line: "Blue" },
            { source: "Morgan Boulevard_blue", target: "Downtown Largo_blue", line: "Blue" },
            //yellow line
            { source: "Huntington", target: "Eisenhower Avenue", line: "Yellow" },
            { source: "Eisenhower Avenue", target: "King St-Old Town", line: "Yellow" },
            { source: "King St-Old Town", target: "Braddock Road", line: "Yellow" },
            { source: "Braddock Road", target: "Potomac Yard", line: "Yellow" },
            { source: "Potomac Yard", target: "Ronald Reagan Washington National Airport", line: "Yellow" },
            { source: "Ronald Reagan Washington National Airport", target: "Crystal City", line: "Yellow" },
            { source: "Crystal City", target: "Pentagon City", line: "Yellow" },
            { source: "Pentagon City", target: "Pentagon", line: "Yellow" },
            { source: "Pentagon", target: "L'Enfant Plaza", line: "Yellow" },
            { source: "L'Enfant Plaza", target: "Archives-Navy Memorial-Penn Quarter", line: "Yellow" },
            { source: "Archives-Navy Memorial-Penn Quarter", target: "Gallery Pl-Chinatown", line: "Yellow" },
            { source: "Gallery Pl-Chinatown", target: "Mt Vernon Sq 7th St-Convention Center", line: "Yellow" },
            //silver line
            { source: "Ashburn", target: "Loudoun Gateway", line: "Silver" },
            { source: "Loudoun Gateway", target: "Washington Dulles International Airport", line: "Silver" },
            { source: "Washington Dulles International Airport", target: "Innovation Center", line: "Silver" },
            { source: "Innovation Center", target: "Herndon", line: "Silver" },
            { source: "Herndon", target: "Reston Town Center", line: "Silver" },
            { source: "Reston Town Center", target: "Wiehle-Reston East", line: "Silver" },
            { source: "Wiehle-Reston East", target: "Spring Hill", line: "Silver" },
            { source: "Spring Hill", target: "Greensboro", line: "Silver" },
            { source: "Greensboro", target: "Tysons", line: "Silver" },
            { source: "Tysons", target: "McLean", line: "Silver" },
            { source: "McLean", target: "East Falls Church", line: "Silver" },
            { source: "East Falls Church", target: "Ballston-MU", line: "Silver" },
            { source: "Ballston-MU", target: "Virginia Square-GMU", line: "Silver" },
            { source: "Virginia Square-GMU", target: "Clarendon", line: "Silver" },
            { source: "Clarendon", target: "Court House", line: "Silver" },
            { source: "Court House", target: "Rosslyn", line: "Silver" },
            { source: "Rosslyn", target: "Foggy Bottom-GWU", line: "Silver" },
            { source: "Foggy Bottom-GWU", target: "Farragut West", line: "Silver" },
            { source: "Farragut West", target: "McPherson Square", line: "Silver" },
            { source: "McPherson Square", target: "Metro Center", line: "Silver" },
            { source: "Metro Center", target: "Federal Triangle", line: "Silver" },
            { source: "Federal Triangle", target: "Smithsonian", line: "Silver" },
            { source: "Smithsonian", target: "L'Enfant Plaza", line: "Silver" },
            { source: "L'Enfant Plaza", target: "Federal Center SW", line: "Silver" },
            { source: "Federal Center SW", target: "Capitol South", line: "Silver" },
            { source: "Capitol South", target: "Eastern Market", line: "Silver" },
            { source: "Eastern Market", target: "Potomac Ave", line: "Silver" },
            { source: "Potomac Ave", target: "Stadium-Armory", line: "Silver" },
            { source: "Stadium-Armory", target: "Benning Road", line: "Silver" },
            { source: "Benning Road", target: "Capitol Heights", line: "Silver" },
            { source: "Capitol Heights", target: "Addison Road-Seat Pleasant", line: "Silver" },
            { source: "Addison Road-Seat Pleasant", target: "Morgan Boulevard", line: "Silver" },
            { source: "Morgan Boulevard", target: "Downtown Largo", line: "Silver" },

        ];


        const width = 1200;
        const height = 1200;

        // Create the main SVG element
const svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

// Add a group for all graph elements
const container = svg.append("g");


// Attach zoom behavior to the SVG
svg.call(
    d3.zoom()
        .scaleExtent([-10, 10]) // Set zoom scale limits
        .on("zoom", event => {
            container.attr("transform", event.transform); // Apply the zoom transformation
        })
);

// Add links to the container
const link = container.selectAll(".link")
    .data(links)
    .enter()
    .append("line")
    .attr("class", "link")
    .style("stroke", d => {
        const lineColors = { Red: "#030303", Green: "#030303", Orange: '#030303', Blue: '#030303', Yellow: '#030303', Silver: '#030303' };
        return lineColors[d.line] || "#999";
    })
    .style("stroke-width", 2)
    .attr("x1", d => stations.find(s => s.id === d.source).x)
    .attr("y1", d => stations.find(s => s.id === d.source).y)
    .attr("x2", d => stations.find(s => s.id === d.target).x)
    .attr("y2", d => stations.find(s => s.id === d.target).y);

// Add nodes to the container
const node = container.selectAll(".node")
    .data(stations)
    .enter()
    .append("g")
    .attr("class", "node")
    .attr("transform", d => `translate(${d.x},${d.y})`);

node.append("circle")
    .attr("r", 10)
    .style("fill", d => {
        const nodeColors = { Red: "#D2353F", Green: "#4CAF50", Orange: '#EA983E', Blue: '#0074BA', Yellow: "#FAD447" };
        return nodeColors[d.line] || "#999";
    });


//adding labels
//red line
        //Shady Grove
        node.append("text")
            .filter(d => d.id === "Shady Grove")
            .attr("x", -80)
            .attr("y", 5)
            .text("Shady Grove");
        //Rockville
        node.append("text")
            .filter(d => d.id === "Rockville")
            .attr("x", -70)
            .attr("y", 10)
            .text("Rockville");
        //TwinBrook
        node.append("text")
            .filter(d => d.id === "TwinBrook")
            .attr("x", -70)
            .attr("y", 10)
            .text("TwinBrook");
        //North Bethesda
        node.append("text")
            .filter(d => d.id === "North Bethesda")
            .attr("x", -100)
            .attr("y", 10)
            .text("North Bethesda");
        //Grosvenor-Strathmore
        node.append("text")
            .filter(d => d.id === "Grosvenor-Strathmore")
            .attr("x", -130)
            .attr("y", 10)
            .text("Grosvenor-Strathmore");
        //Medical Center
        node.append("text")
            .filter(d => d.id === "Medical Center")
            .attr("x", -95)
            .attr("y", 10)
            .text("Medical Center");
        //Bethesda
        node.append("text")
            .filter(d => d.id === "Bethesda")
            .attr("x", -65)
            .attr("y", 10)
            .text("Bethesda");
        //Friendship Heights
        node.append("text")
            .filter(d => d.id === "Friendship Heights")
            .attr("x", -115)
            .attr("y", 10)
            .text("Friendship Heights");
        //Tenleytown-AU
        node.append("text")
            .filter(d => d.id === "Tenleytown-AU")
            .attr("x", -90)
            .attr("y", 10)
            .text("Tenleytown-AU");
        //Van Ness-UDC
        node.append("text")
            .filter(d => d.id === "Van Ness-UDC")
            .attr("x", 10)
            .attr("y", -5)
            .text("Van Ness-UDC");
        //Cleveland Park
        node.append("text")
            .filter(d => d.id === "Cleveland Park")
            .attr("x", -90)
            .attr("y", 10)
            .text("Cleveland Park");
        //Woodley Park-Zoo/Adams Morgan
        node.append("text")
            .filter(d => d.id === "Woodley Park-Zoo/Adams Morgan")
            .attr("x", -200)
            .attr("y", 10)
            .text("Woodley Park-Zoo/Adams Morgan");
        //Dupont Circle
        node.append("text")
            .filter(d => d.id === "Dupont Circle")
            .attr("x", -85)
            .attr("y", 10)
            .text("Dupont Circle");
        //Farragut North
        node.append("text")
            .filter(d => d.id === "Farragut North")
            .attr("x", -90)
            .attr("y", 10)
            .text("Farragut North");
        //Metro Center
        node.append("text")
            .filter(d => d.id === "Metro Center_red")
            .attr("x", -90)
            .attr("y", 10)
            .text("Metro Center");
        //Gallery Pl-Chinatown
        node.append("text")
            .filter(d => d.id === "Gallery Pl-Chinatown_red")
            .attr("x", -50)
            .attr("y", 20)
            .text("Gallery Pl-Chinatown");
        //Judiciary Sq
        node.append("text")
            .filter(d => d.id === "Judiciary Sq")
            .attr("x", 10)
            .attr("y", 10)
            .text("Judiciary Sq");
        //Union Station
        node.append("text")
            .filter(d => d.id === "Union Station")
            .attr("x", 15)
            .attr("y", 5)
            .text("Union Station");
        //NoMa-Gallaudet U"
        node.append("text")
            .filter(d => d.id === "NoMa-Gallaudet U")
            .attr("x", 13)
            .attr("y", 6)
            .text("NoMa-Gallaudet U");
        //Rhode Island Ave-Brentwood
        node.append("text")
            .filter(d => d.id === "Rhode Island Ave-Brentwood")
            .attr("x", 15)
            .attr("y", 5)
            .text("Rhode Island Ave-Brentwood");
        //Brookland-CUA
        node.append("text")
            .filter(d => d.id === "Brookland-CUA")
            .attr("x", 15)
            .attr("y", 5)
            .text("Brookland-CUA");
        //Fort Totten
        node.append("text")
            .filter(d => d.id === "Fort Totten_red")
            .attr("x", 15)
            .attr("y", 1)
            .text("Fort Totten");
        //Takoma
        node.append("text")
            .filter(d => d.id === "Takoma")
            .attr("x", 10)
            .attr("y", 1)
            .text("Takoma");
        //Silver Spring
        node.append("text")
            .filter(d => d.id === "Silver Spring")
            .attr("x", 15)
            .attr("y", 5)
            .text("Silver Spring");
        //Forest Glen
        node.append("text")
            .filter(d => d.id === "Forest Glen")
            .attr("x", 15)
            .attr("y", 5)
            .text("Forest Glen");
        //Wheaton
        node.append("text")
            .filter(d => d.id === "Wheaton")
            .attr("x", 15)
            .attr("y", 5)
            .text("Wheaton");
        //Glenmont
        node.append("text")
            .filter(d => d.id === "Glenmont")
            .attr("x", 15)
            .attr("y", 5)
            .text("Glenmont");
//green line
        //Greenbelt
        node.append("text")
            .filter(d => d.id === "Greenbelt")
            .attr("x", 15)
            .attr("y", 5)
            .text("Greenbelt");
        //CollegePark-U of Md
        node.append("text")
            .filter(d => d.id === "CollegePark-U of Md")
            .attr("x", 15)
            .attr("y", 5)
            .text("CollegePark-U of Md");
        //Hyattsville Crossing
        node.append("text")
            .filter(d => d.id === "Hyattsville Crossing")
            .attr("x", 15)
            .attr("y", 5)
            .text("Hyattsville Crossing");
        //West Hyattsville
        node.append("text")
            .filter(d => d.id === "West Hyattsville")
            .attr("x", 15)
            .attr("y", 5)
            .text("West Hyattsville");
        //Fort Totten
        //Georgia Ave-Petworth
        node.append("text")
            .filter(d => d.id === "Georgia Ave-Petworth")
            .attr("x", 15)
            .attr("y", 5)
            .text("Georgia Ave-Petworth");
        //Columbia Heights
        node.append("text")
            .filter(d => d.id === "Columbia Heights")
            .attr("x", 15)
            .attr("y", 5)
            .text("Columbia Heights");
        //U Street/African-Amer Civil War Memorial/Cardozo
        node.append("text")
            .filter(d => d.id === "U Street/African-Amer Civil War Memorial/Cardozo")
            .attr("x", 15)
            .attr("y", 5)
            .text("U Street");
        //Shaw-Howard U
        node.append("text")
            .filter(d => d.id === "Shaw-Howard U")
            .attr("x", -100)
            .attr("y", 5)
            .text("Shaw-Howard U");
        //Mt Vernon Sq 7th St-Convention Center
        node.append("text")
            .filter(d => d.id === "Mt Vernon Sq 7th St-Convention Center_green")
            .attr("x", 10)
            .attr("y", 5)
            .text("Mt Vernon Sq");
        //Gallery Pl-Chinatown
        //Archives-Navy Memorial-Penn Quarter
        node.append("text")
            .filter(d => d.id === "Archives-Navy Memorial-Penn Quarter_green")
            .attr("x", 10)
            .attr("y", 5)
            .text("Archives");
        //L'Enfant Plaza
        node.append("text")
            .filter(d => d.id === "L'Enfant Plaza_green")
            .attr("x", -100)
            .attr("y", 10)
            .text("L'Enfant Plaza");
        //Waterfront
        node.append("text")
            .filter(d => d.id === "Waterfront")
            .attr("x", -70)
            .attr("y", 10)
            .text("Waterfront");
        //Navy Yard-Ballpark
        node.append("text")
            .filter(d => d.id === "Navy Yard-Ballpark")
            .attr("x", 15)
            .attr("y", 2)
            .text("Navy Yard-Ballpark");
        //Anacostia
        node.append("text")
            .filter(d => d.id === "Anacostia")
            .attr("x", -70)
            .attr("y", 10)
            .text("Anacostia");
        //Congress Heights
        node.append("text")
            .filter(d => d.id === "Congress Heights")
            .attr("x", -110)
            .attr("y", 10)
            .text("Congress Heights");
        //Southern Ave
        node.append("text")
            .filter(d => d.id === "Southern Ave")
            .attr("x", -85)
            .attr("y", 10)
            .text("Southern Ave");
        //Naylor Rd
        node.append("text")
            .filter(d => d.id === "Naylor Rd")
            .attr("x", 10)
            .attr("y", -5)
            .text("Naylor Rd");
        //Suitland
        node.append("text")
            .filter(d => d.id === "Suitland")
            .attr("x", 15)
            .attr("y", 1)
            .text("Suitland");
        //Branch Ave
        node.append("text")
            .filter(d => d.id === "Branch Ave")
            .attr("x", 15)
            .attr("y", 1)
            .text("Branch Ave");
//orange line
        //Vienna/Fairfax-GMU
        node.append("text")
            .filter(d => d.id === "Vienna/Fairfax-GMU")
            .attr("x", 15)
            .attr("y", 17)
            .attr("transform", "rotate(45)")
            .text("Vienna/Fairfax-GMU");
        //Dunn Loring-Merrifield
        node.append("text")
            .filter(d => d.id === "Dunn Loring-Merrifield")
            .attr("x", 15)
            .attr("y", 17)
            .attr("transform", "rotate(45)")
            .text("Dunn Loring-Merrifield");
        //West Falls Church
        node.append("text")
            .filter(d => d.id === "West Falls Church")
            .attr("x", 15)
            .attr("y", 17)
            .attr("transform", "rotate(45)")
            .text("West Falls Church");
        //East Falls Church
        node.append("text")
            .filter(d => d.id === "East Falls Church_orange")
            .attr("x", 15)
            .attr("y", 17)
            .attr("transform", "rotate(45)")
            .text("East Falls Church");
        //Ballston-MU
        node.append("text")
            .filter(d => d.id === "Ballston-MU_orange")
            .attr("x", 15)
            .attr("y", 17)
            .attr("transform", "rotate(45)")
            .text("Ballston-MU");
        //Virginia Sq-GMU
        node.append("text")
            .filter(d => d.id === "Virginia Sq-GMU_orange")
            .attr("x", 15)
            .attr("y", 17)
            .attr("transform", "rotate(45)")
            .text("Virginia Sq-GMU");
        //Clarendon
        node.append("text")
            .filter(d => d.id === "Clarendon_orange")
            .attr("x", 15)
            .attr("y", 17)
            .attr("transform", "rotate(45)")
            .text("Clarendon");
        //Court House
        node.append("text")
            .filter(d => d.id === "Court House")
            .attr("x", 15)
            .attr("y", 17)
            .attr("transform", "rotate(45)")
            .text("Court House");
        //Rosslyn
        node.append("text")
            .filter(d => d.id === "Rosslyn_orange")
            .attr("x", 30)
            .attr("y", 5)
            .attr("transform", "rotate(45)")
            .text("Rosslyn");
        //Foggy Bottom-GWU
        node.append("text")
            .filter(d => d.id === "Foggy Bottom-GWU_orange")
            .attr("x", -120)
            .attr("y", 2)
            .text("Foggy Bottom-GWU");
        //Farragut West
        node.append("text")
            .filter(d => d.id === "Farragut West_orange")
            .attr("x", -75)
            .attr("y", 20)
            .attr("transform", "rotate(-45)")
            .text("Farragut West");
        //McPherson Sq
        node.append("text")
            .filter(d => d.id === "McPherson Sq_orange")
            .attr("x", 10)
            .attr("y", 9)
            .text("McPherson Sq");
        //Metro Center
        //Federal Triangle
        node.append("text")
            .filter(d => d.id === "Federal Triangle_orange")
            .attr("x", -100)
            .attr("y", 6)
            .text("Federal Triangle");
        //Smithsonian
        node.append("text")
            .filter(d => d.id === "Smithsonian_orange")
            .attr("x", -80)
            .attr("y", 6)
            .text("Smithsonian");
        //L'Enfant Plaza
        //Federal Center SW
        node.append("text")
            .filter(d => d.id === "Federal Center SW_orange")
            .attr("x", 20)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Federal Center SW");
        //Capital South
        node.append("text")
            .filter(d => d.id === "Capital South_orange")
            .attr("x", 10)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Capital South");
        //Eastern Market
        node.append("text")
            .filter(d => d.id === "Eastern Market_orange")
            .attr("x", 10)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Eastern Market");
        //Potomac Ave
        node.append("text")
            .filter(d => d.id === "Potomac Ave_orange")
            .attr("x", 27)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Potomac Ave");
        //Stadium-Armory
        node.append("text")
            .filter(d => d.id === "Stadium-Armory_orange")
            .attr("x", 25)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Stadium-Armory");
        //Minnesota Ave
        node.append("text")
            .filter(d => d.id === "Minnesota Ave")
            .attr("x", 10)
            .attr("y", 10)
            .text("Minnesota Ave");
        //Deanwood
        node.append("text")
            .filter(d => d.id === "Deanwood")
            .attr("x", 10)
            .attr("y", 10)
            .text("Deanwood");
        //Cheverly
        node.append("text")
            .filter(d => d.id === "Cheverly")
            .attr("x", 10)
            .attr("y", 10)
            .text("Deanwood");
        //Landover
        node.append("text")
            .filter(d => d.id === "Landover")
            .attr("x", 10)
            .attr("y", 10)
            .text("Cheverly");
        //New Carrollton
        node.append("text")
            .filter(d => d.id === "New Carrollton")
            .attr("x", 10)
            .attr("y", 10)
            .text("New Carrollton");
//blue line
        //Addison Road-Seat Pleasant
        node.append("text")
            .filter(d => d.id === "Addison Road-Seat Pleasant_blue")
            .attr("x", 10)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Addison Road-Seat Pleasant");
        //Arlington Cemetery
        node.append("text")
            .filter(d => d.id === "Arlington Cemetery")
            .attr("x", 16)
            .attr("y", 4)
            .text("Arlington Cemetery");
        //Benning Road
        node.append("text")
            .filter(d => d.id === "Benning Road_blue")
            .attr("x", 10)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Benning Road");
        //Braddock Road
        node.append("text")
            .filter(d => d.id === "Braddock Road_blue")
            .attr("x", 20)
            .attr("y", 10)
            .text("Braddock Road");
        //Capitol Heights
        node.append("text")
            .filter(d => d.id === "Capitol Heights_blue")
            .attr("x", 10)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Capitol Heights");
        //Capitol South
        //Crystal City
        node.append("text")
            .filter(d => d.id === "Crystal City_blue")
            .attr("x", 20)
            .attr("y", 3)
            .text("Crystal City");
        //Downtown Largo
        node.append("text")
            .filter(d => d.id === "Downtown Largo_blue")
            .attr("x", 10)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Downtown Largo");
        //Eastern Market
        //Eisenhower Avenue
        node.append("text")
            .filter(d => d.id === "Eisenhower Avenue")
            .attr("x", 10)
            .attr("y", 10)
            .text("Eisenhower Avenue");
        //Farragut West
        //Federal Center SW
        //Federal Triangle
        //Foggy Bottom-GWU
        //Franconia-Springfield
        node.append("text")
            .filter(d => d.id === "Franconia-Springfield")
            .attr("x", 10)
            .attr("y", 10)
            .text("Franconia-Springfield");
            //Huntington
            node.append("text")
            .filter(d => d.id === "Huntington")
            .attr("x", 10)
            .attr("y", 10)
            .text("Huntington");
        //King St-Old Town
        node.append("text")
            .filter(d => d.id === "King St-Old Town_blue")
            .attr("x", 20)
            .attr("y", 10)
            .text("King St-Old Town");
        //L'Enfant Plaza
        //McPherson Square
        //Metro Center
        //Morgan Boulevard
        node.append("text")
            .filter(d => d.id === "Morgan Boulevard_blue")
            .attr("x", 10)
            .attr("y", 10)
            .attr("transform", "rotate(45)")
            .text("Morgan Boulevard");
        //Pentagon
        node.append("text")
            .filter(d => d.id === "Pentagon_blue")
            .attr("x", 20)
            .attr("y", 10)
            .text("Pentagon");
        //Pentagon City
        node.append("text")
            .filter(d => d.id === "Pentagon City_blue")
            .attr("x", 20)
            .attr("y", 10)
            .text("Pentagon City");
        //Potomac Ave
        //Potomac Yard
        node.append("text")
            .filter(d => d.id === "Potomac Yard_blue")
            .attr("x", 25)
            .attr("y", 6)
            .text("Potomac Yard");
        //Ronald Reagan Washington National Airport
        node.append("text")
            .filter(d => d.id === "Ronald Reagan Washington National Airport_blue")
            .attr("x", 25)
            .attr("y", 6)
            .text("Ronald Reagan Washington National Airport");
        //Rosslyn
        //Smithsonian
        //Stadium-Armory
        //Van Dorn Street
        node.append("text")
            .filter(d => d.id === "Van Dorn Street")
            .attr("x", 17)
            .attr("y", 10)
            .text("Van Dorn Street");
    //silver line
        //Ashburn
         node.append("text")
            .filter(d => d.id === "Ashburn")
            .attr("x", 10)
            .attr("y", -10)
            .text("Ashburn");
        //Loudoun Gateway
        node.append("text")
            .filter(d => d.id === "Loudoun Gateway")
            .attr("x", 10)
            .attr("y", -3)
            .text("Loudoun Gateway");
        //Washington Dulles International Airport
        node.append("text")
            .filter(d => d.id === "Washington Dulles International Airport")
            .attr("x", 15)
            .attr("y", -3)
            .text("Washington Dulles International Airport");
        //Innovation Center
        node.append("text")
            .filter(d => d.id === "Innovation Center")
            .attr("x", 15)
            .attr("y", -3)
            .text("Innovation Center");
        //Herndon
        node.append("text")
            .filter(d => d.id === "Herndon")
            .attr("x", 15)
            .attr("y", -3)
            .text("Herndon");
        //Reston Town Center
        node.append("text")
            .filter(d => d.id === "Reston Town Center")
            .attr("x", 15)
            .attr("y", -3)
            .text("Reston Town Center");
        //Wiehle-Reston East
        node.append("text")
            .filter(d => d.id === "Wiehle-Reston East")
            .attr("x", 15)
            .attr("y", -3)
            .text("Wiehle-Reston East");
        //Spring Hill
        node.append("text")
            .filter(d => d.id === "Spring Hill")
            .attr("x", 15)
            .attr("y", -3)
            .text("Spring Hill");
        //Greensboro
        node.append("text")
            .filter(d => d.id === "Greensboro")
            .attr("x", 15)
            .attr("y", -3)
            .text("Greensboro");
        //Tysons
        node.append("text")
            .filter(d => d.id === "Tysons")
            .attr("x", 15)
            .attr("y", -3)
            .text("Tysons");
        //McLean
        node.append("text")
            .filter(d => d.id === "McLean")
            .attr("x", 15)
            .attr("y", -3)
            .text("McLean");






        // Update link positions manually
        link.attr("x1", d => stations.find(s => s.id === d.source).x)
            .attr("y1", d => stations.find(s => s.id === d.source).y)
            .attr("x2", d => stations.find(s => s.id === d.target).x)
            .attr("y2", d => stations.find(s => s.id === d.target).y);


// Tooltip functionality for all nodes
d3.selectAll(".node circle")
    .on("click", (event, d) => {
        // Prevent SVG click event from closing the tooltip
        event.stopPropagation();

        // Show the tooltip near the clicked node
        d3.select("#info")
            .style("display", "block")
            .style("top", `${event.pageY}px`)
            .style("left", `${event.pageX}px`)
            .html(`
                <strong>Station:</strong> ${d.id}<br>
                <strong>Ridership:</strong> ${d.ridership}<br>
                <strong>Line:</strong> ${d.line}
            `);
    });

// Close the tooltip when clicking anywhere else on the SVG
d3.select("svg").on("click", () => {
    d3.select("#info").style("display", "none");
});

//slider
// Select the slider and display the initial year
const slider = d3.select("#year-slider");
const yearDisplay = d3.select("#current-year");

// Initialize with the default year
let currentYear = +slider.property("value");

// Update nodes when the slider value changes
slider.on("input", function () {
    currentYear = +this.value; // Get the selected year
    yearDisplay.text(currentYear); // Update the year display

    // Update ridership tooltips dynamically
    d3.selectAll(".node circle")
        .each(function (d) {
            const ridership = d.ridership[currentYear]; // Get ridership for the selected year
            d3.select(this)
                .transition()
                .duration(300)
                .attr("r", Math.sqrt(ridership) / 10); // Scale circle size (adjust as needed)
        });
});


// Tooltip functionality for all nodes
d3.selectAll(".node circle")
    .on("click", (event, d) => {
        // Prevent SVG click event from closing the tooltip
        event.stopPropagation();

        // Show the tooltip near the clicked node
        const ridership = d.ridership[currentYear]; // Get ridership for the current year
        d3.select("#info")
            .style("display", "block")
            .style("top", `${event.pageY}px`)
            .style("left", `${event.pageX}px`)
            .html(`
                <strong>Station:</strong> ${d.id}<br>
                <strong>Ridership (${currentYear}):</strong> ${ridership}<br>
                <strong>Line:</strong> ${d.line}
            `);
    });


    const yearSlider = document.getElementById("year-slider");
    const totalRidershipBox = document.createElement("div");

    // Style for the box
    totalRidershipBox.style.position = "absolute";
    totalRidershipBox.style.bottom = "10px";
    totalRidershipBox.style.right = "10px";
    totalRidershipBox.style.backgroundColor = "white";
    totalRidershipBox.style.padding = "10px";
    totalRidershipBox.style.border = "1px solid black";
    totalRidershipBox.style.borderRadius = "5px";
    totalRidershipBox.style.fontFamily = "Roboto, serif";
    totalRidershipBox.style.fontSize = "14px";
    document.body.appendChild(totalRidershipBox);

    function updateTotalRidership(year) {
        let totalRidership = 0;

        // Summing ridership for all stations
        stations.forEach(station => {
            if (station.ridership[year]) {
                totalRidership += parseInt(station.ridership[year]) || 0;
            }
        });

        // Update the text in the box
        totalRidershipBox.innerHTML = `Total Ridership in ${year}: ${totalRidership.toLocaleString()}`;
    }

    // Initialize with the default slider value
    updateTotalRidership(yearSlider.value);

    // Update the box whenever the slider changes
    yearSlider.addEventListener("input", (e) => {
        updateTotalRidership(e.target.value);
    });




    </script>
</body>
</html>
